generator client {
  provider = "prisma-client-js"
  previewFeatures = ["fullTextSearch"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model role {
  id                      Int                      @id @default(autoincrement())
  name                    String                   @unique
  users                   users[]
}


model users {
  id                      Int                      @id @default(autoincrement())
  username                String                   @unique
  name                    String
  email                   String?                  @unique
  role_id                 Int
  password                String
  created_at              DateTime
  program                 String?
 
  role                    role                     @relation(fields: [role_id], references: [id],onDelete: Cascade, onUpdate: Cascade)
  limits                  limits[]
}

model limits {
  id                      Int                      @id @default(autoincrement())
  limit                   Int                     @default(0)
  created_at              DateTime                  @default(now())
  updated_at              DateTime                 @updatedAt() 
  user_id                 Int             @unique
  user                    users                    @relation(fields: [user_id], references: [id],onDelete: Cascade, onUpdate: Cascade)
}


